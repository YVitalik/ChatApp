@page "/base"
@using System.Net
@using ChatApp.BLL.DTOs
@inject NavigationManager NavManager

@code
{
    protected void CheckIfUserHasAccess(ServerResponse response, Action action)
    {
        if (response.StatusCode == HttpStatusCode.Unauthorized 
            || response.StatusCode == HttpStatusCode.Forbidden)
        {
            NavManager.NavigateTo("/login");
        }
        else
        {
            action.Invoke();
        }
    }
}